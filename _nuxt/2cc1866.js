(window.webpackJsonp=window.webpackJsonp||[]).push([[5,8,10],{825:function(t,e,r){"use strict";r.r(e);var n={props:{githubUserId:{type:String,default:""},fromAddress:{type:String,default:""},forceShowAddress:{type:Boolean,default:!1}},data:function(){return{githubUser:null}},mounted:function(){var t=this;this.githubUserId?this.$github.getUserById(this.githubUserId).then((function(e){t.githubUser=e})):this.fromAddress&&this.$subgraph.getUserAddress(this.fromAddress).then((function(e){e&&t.$github.getUserById(e.user.id).then((function(e){t.githubUser=e}))}))}},o=r(11),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.githubUser?r("div",{staticClass:"d-flex align-items-center"},[r("GithubAvatar",{attrs:{"profile-url":t.githubUser.url,"avatar-url":t.githubUser.avatarUrl}}),t._v(" "),r("div",{staticClass:"d-flex flex-column"},[r("a",{staticClass:"font-weight-bold",attrs:{href:t.githubUser.url,target:"_blank"}},[t._v("\n        "+t._s(t.githubUser.login)+"\n      ")]),t._v(" "),t.fromAddress&&t.forceShowAddress?r("a",{staticClass:"d-flex text-muted",attrs:{href:"https://etherscan.com/address/"+t.fromAddress,target:"_blank"}},[r("small",[r("AddressShort",{attrs:{address:t.fromAddress}})],1)]):t._e()])],1):t.fromAddress?r("div",[r("a",{staticClass:"font-weight-bold",attrs:{href:"https://etherscan.com/address/"+t.fromAddress,target:"_blank"}},[r("AddressShort",{attrs:{address:t.fromAddress}})],1)]):r("div",[r("font-awesome-icon",{staticClass:"text-muted-light",attrs:{icon:["fas","circle-notch"],spin:""}})],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{GithubAvatar:r(385).default,AddressShort:r(384).default})},840:function(t,e,r){"use strict";r.r(e);r(219);var n=r(1),o=r(14);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:{issue:{type:Object,default:null}},data:function(){return{deposits:[]}},computed:l(l({},Object(o.b)(["githubUser"])),{},{amount:function(){return this.deposits.reduce((function(t,e){return BigInt(t)+BigInt(e.amount)}),BigInt("0"))}}),mounted:function(){var t=this;this.$subgraph.getIssue(this.issue.id).then((function(e){e&&(t.deposits=e.deposits)}))}},h=r(11),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"border rounded-xl px-2 pb-2 mb-2",staticStyle:{"margin-top":"-56px","padding-top":"56px"}},[r("a",{staticClass:"text-truncate d-block font-weight-bold text-dark mr-1 mb-1",attrs:{href:t.issue.url,target:"_blank",title:t.issue.title}},[r("svg",{class:"text-"+(t.issue.closed?"danger":"success"),staticStyle:{width:"16px",height:"16px"},attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{fill:"currentColor",d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"}})]),t._v("\n    "+t._s(t.issue.title)+"\n  ")]),t._v(" "),r("span",{staticClass:"d-flex justify-content-between align-items-start"},[r("small",{staticClass:"text-muted mr-2 d-flex align-items-center"},[t._v("\n      "+t._s(t._f("moment")(t.issue.createdAt,"MMM Do YYYY"))+"\n      by\n      "),r("a",{staticClass:"mx-1 text-muted",attrs:{href:t.issue.author.url,target:"_blank"}},[r("b",[t._v(t._s(t.githubUser&&t.githubUser.login===t.issue.author.login?"you":t.issue.author.login))])]),t._v(" "),r("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:["far","comment-alt"]}}),t._v("\n      "+t._s(t.issue.comments.totalCount)+"\n    ")],1),t._v(" "),t.amount?r("small",{staticClass:"font-weight-bold text-nowrap bg-secondary text-white rounded-xl px-2 py-1"},[t._v("\n      "+t._s(Number(t.$web3utils.fromWei(t.amount.toString(),"ether")).toFixed(2))+"\n      ETH\n    ")]):t._e()])])}),[],!1,null,null,null);e.default=component.exports},859:function(t,e,r){"use strict";r.r(e);r(142),r(105),r(21),r(64),r(218),r(81);var n=r(1),o=r(14);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var l={mixins:[r(46).a],data:function(){return{url:"",loadingIssue:!1,issue:null,score:0,waitingForOracleRequest:!1,waitingForOracleFulfillment:!1,showWithdrawalSuccess:!1,withdrawingUserDeposit:0,canWithdrawIssue:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)(["account","redirectPrefills","githubUser"])),watch:{redirectPrefills:function(){this.redirectPrefills&&"claim-issue"===this.redirectPrefills.type&&(this.url=this.redirectPrefills.url)},url:function(t){var e=this;this.issue=null;var r=t.match(/^https:\/\/github\.com\/([\w-]+)\/([\w-]+)\/issues\/(\d+)$/);if(r){var n=r[1],o=r[2],c=r[3];this.loadingIssue=!0,this.canWithdrawIssue=null,this.$github.getIssueByOwnerRepoNumber(n,o,Number(c)).then((function(t){e.issue=t,e.githubUser?e.$axios.$get("https://octobay.uber.space"+"/github/can-withdraw-from-issue/".concat(e.githubUser.node_id,"/").concat(e.issue.id)).then((function(t){e.canWithdrawIssue=t})):e.canWithdrawIssue=!1})).finally((function(){return e.loadingIssue=!1}))}}},mounted:function(){this.$store.dispatch("updateGithubUser"),this.redirectPrefills&&"claim-issue"===this.redirectPrefills.type&&(this.url=this.redirectPrefills.url)},methods:{withdrawFromIssue:function(){var t=this;this.oracleRequest(this.octobay.methods.withdrawFromIssue,[this.issue.id],(function(e){return t.waitingForOracleRequest=e}),(function(e){return t.waitingForOracleFulfillment=e})).then((function(){t.$store.commit("removeIssue",t.issue.id),t.showWithdrawalSuccess=!0,t.issue=null,t.url="",t.canWithdrawIssue=!1}))},withdrawUserDeposit:function(t){var e=this;this.withdrawingUserDeposit=t,this.octobay.methods.withdrawUserDeposit(t).send({from:this.account}).then((function(){setTimeout((function(){return e.$store.dispatch("updateGithubUser")}),1e3),setTimeout((function(){return e.$store.dispatch("updateGithubUser")}),5e3),e.$store.dispatch("updateEthBalance")})).catch((function(t){return console.log(t)})).finally((function(){return e.withdrawingUserDeposit=0}))}}},d=r(11),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"card-body"},[t.showWithdrawalSuccess?r("div",{staticClass:"alert alert-success border-0"},[r("button",{staticClass:"close text-success",attrs:{type:"button"},on:{click:function(e){t.showWithdrawalSuccess=!1}}},[r("span",[t._v("Ã—")])]),t._v(" "),r("font-awesome-icon",{attrs:{icon:["far","smile"]}}),t._v("\n      Withdrawal successful!\n    ")],1):t._e(),t._v(" "),r("h5",{staticClass:"text-center text-muted-light py-2 px-4"},[t._v("\n      Paste the URL of an issue you worked on.\n    ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control form-control-lg form-control-with-embed mb-2",attrs:{type:"text",placeholder:"https://github.com/..."},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),t._v(" "),t.loadingIssue?r("font-awesome-icon",{staticClass:"text-muted-light",attrs:{icon:["fas","circle-notch"],spin:""}}):t.issue?r("IssueEmbed",{attrs:{issue:t.issue}}):t._e(),t._v(" "),t.issue&&!1===t.canWithdrawIssue?r("div",{staticClass:"alert bg-secondary text-white text-center border-0 mb-2 mt-3"},[t._v("\n      This issue has not been closed by a pull request of yours and was not\n      released to you manually.\n    ")]):t._e(),t._v(" "),r("ConnectActionButton",{staticClass:"mt-4",attrs:{action:t.withdrawFromIssue,disabled:t.waitingForOracleRequest||!t.issue||!t.githubUser||!t.canWithdrawIssue,size:"lg"}},[t.waitingForOracleRequest?r("font-awesome-icon",{attrs:{icon:["fas","circle-notch"],spin:""}}):t._e(),t._v("\n      "+t._s(t.waitingForOracleRequest?"Waiting for confirmation...":"Claim")+"\n    ")],1)],1),t._v(" "),t.githubUser&&t.githubUser.incomingDeposits.length?r("div",{staticClass:"card-body border-top mt-2 pt-2"},[r("h5",{staticClass:"text-center text-muted-light py-2 px-4 mt-2"},[t._v("\n      Claim funds sent to your GitHub account.\n    ")]),t._v(" "),t._l(t.githubUser.incomingDeposits,(function(e,n){return r("div",{key:n,staticClass:"d-flex justify-content-between align-items-center mt-2"},[r("small",{staticClass:"text-muted"},[r("GithubUser",{attrs:{"from-address":e.from,"force-show-address":!0}})],1),t._v(" "),r("div",{staticClass:"d-flex flex-column mb-0 ml-auto mr-2 text-right"},[r("b",[t._v(t._s(t.$web3utils.fromWei(e.amount,"ether")))]),t._v(" "),r("sup",{staticClass:"pt-2"},[t._v("ETH")])]),t._v(" "),r("ConnectActionButton",{staticClass:"text-nowrap ml-1",attrs:{action:function(){return t.withdrawUserDeposit(e.id)},disabled:0!=t.withdrawingUserDeposit}},[t.withdrawingUserDeposit===e.id?r("font-awesome-icon",{attrs:{icon:["fas","circle-notch"],spin:""}}):t._e(),t._v("\n        "+t._s(t.withdrawingUserDeposit===e.id?"":"Claim")+"\n      ")],1)],1)}))],2):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{IssueEmbed:r(840).default,ConnectActionButton:r(386).default,GithubUser:r(825).default})}}]);